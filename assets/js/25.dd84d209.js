(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{294:function(e,t,i){"use strict";var o=TypeError;e.exports=function(e,t){if(e<t)throw new o("Not enough arguments");return e}},304:function(e,t,i){"use strict";var o=i(45),s=i(5),r=i(125),a=i(294),n=URLSearchParams,l=n.prototype,d=s(l.append),c=s(l.delete),u=s(l.forEach),h=s([].push),p=new n("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&o(l,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return c(this,e);var o=[];u(this,(function(e,t){h(o,{key:t,value:e})})),a(t,1);for(var s,n=r(e),l=r(i),p=0,v=0,y=!1,f=o.length;p<f;)s=o[p++],y||s.key===n?(y=!0,c(this,s.key)):v++;for(;v<f;)(s=o[v++]).key===n&&s.value===l||d(this,s.key,s.value)}),{enumerable:!0,unsafe:!0})},305:function(e,t,i){"use strict";var o=i(45),s=i(5),r=i(125),a=i(294),n=URLSearchParams,l=n.prototype,d=s(l.getAll),c=s(l.has),u=new n("a=1");!u.has("a",2)&&u.has("a",void 0)||o(l,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return c(this,e);var o=d(this,e);a(t,1);for(var s=r(i),n=0;n<o.length;)if(o[n++]===s)return!0;return!1}),{enumerable:!0,unsafe:!0})},306:function(e,t,i){"use strict";var o=i(7),s=i(5),r=i(127),a=URLSearchParams.prototype,n=s(a.forEach);o&&!("size"in a)&&r(a,"size",{get:function(){var e=0;return n(this,(function(){e++})),e},configurable:!0,enumerable:!0})},354:function(e,t,i){},505:function(e,t,i){"use strict";i(354)},557:function(e,t,i){"use strict";i.r(t);i(15),i(43),i(24),i(128),i(304),i(305),i(306);var o={props:{year:{type:String,required:!1}},data:()=>({player:null,currentVideoId:"",searchQuery:"",sortOption:"publishedAt",isDesc:!0,allVideos:[],filteredVideos:[],API_URL:"https://api.leekyounghwa.com/api/videos"}),async mounted(){try{var e;(e=window).global||(e.global=window);const t=i(363).default,o=await t.get(this.API_URL);this.allVideos=o.data.map(e=>({...e,artist:e.videoOwnerChannelTitle,link:"https://www.youtube.com/watch?v="+e.videoId,img:e.thumbnailUrl||"https://placehold.co/200x200/e2e8f0/64748b?text=No+Image",showDescription:!1})),this.filteredVideos=[...this.allVideos],this.sortVideos();const s=this.filteredVideos[0];s&&s.videoId&&(this.currentVideoId=s.videoId,this.loadYouTubeIframeAPI())}catch(e){console.error("비디오 데이터를 불러오는 중 오류 발생:",e)}this.handleInitialScroll();const t=new URLSearchParams(window.location.search).get("search");t&&(this.searchQuery=t,this.filterVideos())},beforeUnmount(){this.player&&"function"==typeof this.player.destroy&&this.player.destroy()},methods:{videoId:e=>"video-"+e,formatDate:e=>new Date(e).toISOString().split("T")[0],handleInitialScroll(){const e=new URLSearchParams(window.location.search).get("video");if(e){const t=this.allVideos.find(t=>String(t.id)===e);t&&this.$nextTick(()=>{const e=document.getElementById(this.videoId(t.id));if(e){const t=e.getBoundingClientRect(),i=70,o=window.scrollY+t.top-i;window.scrollTo({top:o,behavior:"smooth"})}})}},filterVideos(){const e=this.searchQuery.toLowerCase();this.filteredVideos=this.allVideos.filter(t=>t.title.toLowerCase().includes(e)||t.videoOwnerChannelTitle.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)),this.sortVideos()},toggleOrder(){this.isDesc=!this.isDesc,this.sortVideos()},sortVideos(){if(!this.filteredVideos.length)return;const e=this.isDesc?1:-1;this.filteredVideos.sort((t,i)=>{switch(this.sortOption){case"publishedAt":return(new Date(i.publishedAt).getTime()-new Date(t.publishedAt).getTime())*e;case"title":return t.title.localeCompare(i.title,"ko")*e;case"channelTitle":return t.videoOwnerChannelTitle.localeCompare(i.videoOwnerChannelTitle,"ko")*e;default:return 0}})},toggleDescription(e){e.showDescription=!e.showDescription},loadYouTubeIframeAPI(){if("undefined"==typeof YT||void 0===YT.Player){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady}else this.onYouTubeIframeAPIReady()},onYouTubeIframeAPIReady(){this.currentVideoId&&this.$refs.playerContainer&&(this.player&&"function"==typeof this.player.destroy&&this.player.destroy(),this.player=new YT.Player("player-container",{height:"450",width:"100%",videoId:this.currentVideoId,playerVars:{autoplay:1,controls:1,modestbranding:1,rel:0},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange,onError:this.onPlayerError}}))},onPlayerReady(e){e.target.playVideo(),console.log("YouTube Player 준비 완료:",this.currentVideoId)},onPlayerStateChange(e){e.data===YT.PlayerState.ENDED?(console.log("동영상 재생 종료:",this.currentVideoId),this.playNextVideo()):e.data===YT.PlayerState.PLAYING&&console.log("동영상 재생 중:",this.currentVideoId)},onPlayerError(e){console.error("YouTube Player 오류 발생:",e.data),this.playNextVideo()},playVideo(e){this.player&&"function"==typeof this.player.loadVideoById?(this.currentVideoId=e,this.player.loadVideoById(e),window.scrollTo({top:0,behavior:"smooth"})):(this.currentVideoId=e,this.onYouTubeIframeAPIReady(),window.scrollTo({top:0,behavior:"smooth"}))},playNextVideo(){const e=this.filteredVideos.findIndex(e=>e.videoId===this.currentVideoId);if(-1!==e&&e<this.filteredVideos.length-1){const t=this.filteredVideos[e+1];this.playVideo(t.videoId)}else console.log("마지막 동영상 재생 완료. 다음 동영상이 없습니다.")}}},s=(i(505),i(4)),r=Object(s.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("div",{ref:"playerContainer",staticClass:"youtube-player-container",attrs:{id:"player-container"}}),e._v(" "),e.currentVideoId?e._e():t("div",{staticClass:"no-jukebox-placeholder"},[e._v("\n    재생할 비디오를 선택해주세요.\n  ")]),e._v(" "),t("div",{staticClass:"controls"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"search-box",attrs:{type:"text",placeholder:"비디오 검색 (제목 / 채널명 / 설명)"},domProps:{value:e.searchQuery},on:{keyup:e.filterVideos,input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortOption,expression:"sortOption"}],staticClass:"sort-dropdown",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.sortOption=t.target.multiple?i:i[0]},e.sortVideos]}},[t("option",{attrs:{value:"publishedAt"}},[e._v("발행일순")]),e._v(" "),t("option",{attrs:{value:"title"}},[e._v("제목 가나다순")]),e._v(" "),t("option",{attrs:{value:"channelTitle"}},[e._v("채널명 가나다순")])]),e._v(" "),t("button",{staticClass:"order-toggle",attrs:{title:e.isDesc?"최신순":"오래된순"},on:{click:e.toggleOrder}},[e.isDesc?t("span",[e._v("↓")]):t("span",[e._v("↑")])])]),e._v(" "),t("h4",[e._v(" 비디오 목록 "+e._s(e.filteredVideos.length)+" ")]),e._v(" "),e._l(e.filteredVideos,(function(i,o){return t("div",{key:e.videoId(i.id)},[t("div",{staticClass:"container",attrs:{id:e.videoId(i.id)}},[t("div",{staticClass:"wrap",on:{click:function(t){return e.playVideo(i.videoId)}}},[t("img",{staticClass:"album-img",attrs:{src:i.thumbnailUrl,alt:i.title}})]),e._v(" "),t("div",{staticClass:"blog-content"},[t("h4",[e._v(e._s(e.formatDate(i.publishedAt)))]),e._v(" "),t("div",{staticClass:"video-info"},[t("h3",{staticClass:"channel-title"},[e._v("\n            "+e._s(o+1)+". Channel : "+e._s(i.videoOwnerChannelTitle)+"\n            "),t("a",{attrs:{href:"https://www.youtube.com/watch?v="+i.videoId,target:"_blank"}},[t("img",{staticClass:"youtube-icon-img",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/768px-YouTube_full-color_icon_%282017%29.svg.png?20240107144800"}})])]),e._v(" "),t("h3",{staticClass:"video-title"},[e._v("Title : "+e._s(i.title))])]),e._v(" "),i.description?t("div",{staticClass:"description-section"},[t("button",{staticClass:"description-toggle-btn",on:{click:function(t){return e.toggleDescription(i)}}},[e._v("\n            Description "+e._s(i.showDescription?"▲":"▼")+"\n          ")]),e._v(" "),i.showDescription?t("p",{staticClass:"video-description",domProps:{innerHTML:e._s(i.description)}}):e._e()]):e._e()])])])}))],2)}),[],!1,null,"7093ea2a",null);t.default=r.exports}}]);